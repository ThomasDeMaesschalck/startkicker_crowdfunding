<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Demo Login JSF2.2 - Service Layer - JPA Repository</title>
	<h:outputStylesheet name="css/primeflex.css" />

	<h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>
	<div class="p-grid">
		<h:outputText value="Welcome to the Demo"
			rendered="#{empty loginBean.errorMsg}" />
		<h:outputText value="#{loginBean.errorMsg}"></h:outputText>
	</div>
	<h:form id="loginForm" styleClass="login">
		<p>
			<p:outputLabel for="login" value="UserName:"></p:outputLabel>
			<p:inputText id="login" value="#{loginBean.userName}"></p:inputText>
		</p>
		<p>
			<p:outputLabel value="Password:"></p:outputLabel>
			<p:password value="#{loginBean.password}"></p:password>
		</p>
		<p class="login-submit">
			<p:commandButton  value="Login"
				action="#{loginBean.login}"></p:commandButton>
		</p>
	</h:form>
	<div class="card">
		Demo Login through be.hogent.startkicker.service layer (managers), with a JPA based
		Repository to a MySQL dBase.<br/>
		(Adapt persistence.xml as desired)<br /> <br />
		<b>TestUser: </b> <u>UserName</u> My_Admin - <u>PWD</u> AbC123 <br />
		(Created by InitBean @BOOT - @ManagedBean(eager = true))<br />
		
	</div>
	<div class="card">
	<h1>Clean seperation of layers:</h1>
		<ul>
		<li>View components (xhtml) talk to beans (@ManagedBean)</li>
		<li>Beans (controllers) talk to Service layer (managers); uses DTO's; Managers map DTO from/to Model</li>
		<li>Managers talk to IRepository's &amp; manipulates model</li>
		<li>Concrete implementation of Repo returns model, but implements using JPA/Entities 
		<br></br>(here implemented as seperate Entity with same state as model.Person; other option was orm.xml to decorate model); 
		<br></br>Mappers Model from/to Entity</li>
		</ul></div>
</h:body>
</html>
