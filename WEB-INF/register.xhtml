<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Startkicker - Home</title>
    <h:outputStylesheet name="css/primeflex.css" />
    <h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>

    <h:panelGrid rendered="#{loggedInUser == null}">





    <div class="card">
        <br></br><br></br>

        <h1>        Register a new user acccount on Startkicker
        </h1>

        <p:messages id="messages" showDetail="false" closable="true">
            <p:autoUpdate/>
        </p:messages>


        <h:form>
            <p:panelGrid columns="4"
                         layout="flex"
                         columnClasses="p-col-12 p-md-3 p-xl-2, p-col-12 p-md-9 p-xl-4, p-col-12 p-md-3 p-xl-2, p-col-12 p-md-9 p-xl-4"
                         contentStyleClass="p-align-baseline ui-fluid">

                <h:outputText for="Lastname"  value="Lastname" />
                <p:inputText id="Lastname" name="Lastname" value="#{userBean.userToSave.name}" required="true" />

                <h:outputText for="Firstname"  value="Firstname" />
                <p:inputText id="Firstname" name="Firstname" value="#{userBean.userToSave.firstName}"  required="true" />

                <h:outputText for="Username" value="Username" />
                <p:inputText id="Username" name="Username" value="#{userBean.userToSave.userName}" required="true" />

                <h:outputText for="Password" value="Password" />
                <p:password id="Password" value="#{userBean.userToSave.password}"
                            name="Password"  toggleMask="true" redisplay="true" feedback="true" required="true" />

                <h:outputText for="Email" value="Email" />
                <p:inputText id="Email" name="Email" value="#{userBean.userToSave.email}" required="true" validatorMessage="Incorrect e-mailâ€¦">
                <f:validateRegex pattern="([^.@]+)(\.[^.@]+)*@([^.@]+\.)+([^.@]+)" />
                </p:inputText>

                <p:commandButton value="Save" ajax="false"  update="@form" icon="pi pi-check" validateClient="true" styleClass="p-mr-3"  action="#{userBean.register}" />

            </p:panelGrid>
        </h:form>



        <br></br>
    <p:card>
        <f:facet name="title">
    Note:
        </f:facet>
        <p>New user accounts need to be activated by the administrator first. Login is not possible before activation.
        </p>
    </p:card>

    </div>

    </h:panelGrid>


</h:body>
</html>
