<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
				"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Startkicker - Home</title>
	<h:outputStylesheet name="css/primeflex.css" />
	<h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>


	<h:form>
		<p:linkButton rendered="#{loggedInUser == null}" outcome="login" value="Login here" style="margin-right:20px;" />
	</h:form>

	<h:form rendered="#{loggedInUser.admin == true}">
		<p:linkButton outcome="admin" value="Admin" style="margin-right:20px;" />
	</h:form>

	<h:form rendered="#{loggedInUser == null}">
		<p:linkButton outcome="register" value="Register" style="margin-right:20px;" />
	</h:form>


	<p:commandButton  rendered="#{loggedInUser != null}" value="Logout"
					  action="#{loginBean.logout}" style="margin-right:20px;" ></p:commandButton>

	<br></br><br></br>
	<div class="card">


		<h:panelGrid rendered="#{loggedInUser != null}">
			Hello
		<h:outputText value="#{loggedInUser.firstName}"></h:outputText>
<br></br><br></br>
		Is admin: <h:outputText value="#{loggedInUser.admin}"></h:outputText>
		</h:panelGrid>

		<br></br>

		<h:form>
			<p:dataTable value = "#{myAppWideBean.allUsers}" var = "user"
						 rows="10"
						 paginator="true"
						 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
						 rowsPerPageTemplate="5,10,{ShowAll|'All'}" >

				<p:column headerText="Name">
					<h:outputText value="#{user.name}" />
				</p:column>

				<p:column headerText="Firstname">
					<h:outputText value="#{user.firstName}" />
				</p:column>

				<p:column headerText="E-mail">
					<h:outputText value="#{user.email}" />

				</p:column>
			</p:dataTable>
		</h:form>

	</div>
</h:body>
</html>
